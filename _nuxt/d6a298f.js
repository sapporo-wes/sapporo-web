(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{424:function(t,e,o){"use strict";var r=o(0),n=Object(r.b)({data:function(){return{version:"1.2.1"}}}),l=o(75),c=o(137),d=o.n(c),f=o(501),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-footer",{attrs:{absolute:"",app:"",color:t.$colors.indigo.darken1,height:"24",padless:""}},[e("div",{staticClass:"mx-auto my-auto"},[e("span",{staticClass:"white--text",style:{fontSize:"12px"}},[t._v("\n        sapporo-web "+t._s(t.version)+" Â© DDBJ (Bioinformatics and DDBJ Center)\n      ")])])])}),[],!1,null,null,null);e.a=component.exports;d()(component,{VFooter:f.a})},433:function(t,e,o){"use strict";o(30),o(19),o(61),o(76),o(42);var r=o(0),n=Object(r.b)({data:function(){return{type:"",id:""}},computed:{items:function(){var t=[{text:"Home",nuxt:!0,to:"/",icon:"mdi-home-outline"}];if("service"===this.type){var e=this.$store.getters["services/service"](this.id);e&&t.push({text:e.name,nuxt:!0,to:"/services?serviceId=".concat(e.id),icon:"mdi-dns-outline"})}else if("workflow"===this.type){var o=this.$store.getters["workflows/workflow"](this.id);if(o){var r=this.$store.getters["services/service"](o.serviceId);r&&t.push({text:r.name,nuxt:!0,to:"/services?serviceId=".concat(r.id),icon:"mdi-dns-outline"}),t.push({text:o.name,nuxt:!0,to:"/workflows?workflowId=".concat(o.id),icon:"mdi-graph-outline"})}}else if("run"===this.type){var n=this.$store.getters["runs/run"](this.id);if(n){var l=this.$store.getters["workflows/workflow"](n.workflowId);if(l){var c=this.$store.getters["services/service"](n.serviceId);c&&t.push({text:c.name,nuxt:!0,to:"/services?serviceId=".concat(c.id),icon:"mdi-dns-outline"}),t.push({text:l.name,nuxt:!0,to:"/workflows?workflowId=".concat(l.id),icon:"mdi-graph-outline"})}t.push({text:n.name,nuxt:!0,to:"/runs?runId=".concat(n.id),icon:"mdi-chart-box-outline"})}}return t}},created:function(){for(var t=this.$route.query,e=0,o=Object.keys(t);e<o.length;e++){var r=o[e];if(r.includes("Id")){this.type=r.slice(0,-2);var n=t[r]||"";Array.isArray(n)&&(n=n[0]||""),this.id=n;break}}}}),l=o(75),c=o(137),d=o.n(c),f=o(623),h=o(504),v=o(407),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-breadcrumbs",{staticClass:"pt-2",attrs:{items:t.items,large:""},scopedSlots:t._u([{key:"divider",fn:function(){return[e("v-icon",{domProps:{textContent:t._s("mdi-chevron-right")}})]},proxy:!0},{key:"item",fn:function(o){var r=o.item;return[e("v-breadcrumbs-item",{attrs:{nuxt:r.nuxt,to:r.to}},[e("v-icon",{attrs:{color:t.$colors.grey.darken2,left:""},domProps:{textContent:t._s(r.icon)}}),t._v(" "),e("span",{domProps:{textContent:t._s(r.text)}})],1)]}}])})}),[],!1,null,null,null);e.a=component.exports;d()(component,{VBreadcrumbs:f.a,VBreadcrumbsItem:h.a,VIcon:v.a})},435:function(t,e,o){"use strict";o(47);var r=o(0),n=Object(r.b)({props:{wfType:{type:String,default:""},size:{type:Number,default:26},topMargin:{type:Boolean,default:!0}}}),l=o(75),c=o(137),d=o.n(c),f=o(407),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return"CWL"===t.wfType?e("img",{class:{"mt-2":t.topMargin,"mr-2":!0},attrs:{height:t.size,src:o(438)}}):"WDL"===t.wfType?e("img",{class:{"mt-2":t.topMargin,"mr-2":!0},attrs:{height:t.size,src:o(439)}}):"nextflow"===t.wfType.toLowerCase()||"NFL"===t.wfType?e("img",{class:{"mt-2":t.topMargin,"mr-2":!0},attrs:{height:t.size,src:o(440)}}):"snakemake"===t.wfType.toLowerCase()||"SMK"===t.wfType?e("img",{class:{"mt-2":t.topMargin,"mr-2":!0},attrs:{height:t.size,src:o(441)}}):e("v-icon",{staticClass:"my-2 mr-2",domProps:{textContent:t._s("mdi-graph-outline")}})}),[],!1,null,null,null);e.a=component.exports;d()(component,{VIcon:f.a})},438:function(t,e,o){t.exports=o.p+"img/cwl-icon.d6a463e.png"},439:function(t,e,o){t.exports=o.p+"img/wdl-icon.3954ce4.png"},440:function(t,e,o){t.exports=o.p+"img/nextflow-icon.5351591.png"},441:function(t,e,o){t.exports=o.p+"img/snakemake-icon.b8289bc.png"},450:function(t,e,o){"use strict";var r=o(0),n=Object(r.b)({props:{show:{type:Boolean,default:!1,required:!0},message:{type:String,default:"",required:!0}},data:function(){return{showModel:!1}},watch:{show:function(){this.showModel=this.show}}}),l=o(75),c=o(137),d=o.n(c),f=o(408),h=o(610),component=Object(l.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"text-center"},[e("v-snackbar",{attrs:{color:"warning","multi-line":"",text:""},scopedSlots:t._u([{key:"action",fn:function(o){var r=o.attrs;return[e("v-btn",t._b({attrs:{text:""},on:{click:function(e){return t.$emit("close")}}},"v-btn",r,!1),[t._v(" Close ")])]}}]),model:{value:t.showModel,callback:function(e){t.showModel=e},expression:"showModel"}},[t._v("\n      "+t._s(t.message)+"\n      ")])],1)}),[],!1,null,null,null);e.a=component.exports;d()(component,{VBtn:f.a,VSnackbar:h.a})},464:function(t,e,o){var content=o(465);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("12a190a6",content,!0,{sourceMap:!1})},465:function(t,e,o){var r=o(37)(!1);r.push([t.i,".v-input--checkbox.v-input--indeterminate.v-input--is-disabled{opacity:.6}.v-input--checkbox.v-input--dense{margin-top:4px}",""]),t.exports=r},466:function(t,e,o){var content=o(467);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("2e2bc7da",content,!0,{sourceMap:!1})},467:function(t,e,o){var r=o(37)(!1);r.push([t.i,'.v-input--selection-controls{margin-top:16px;padding-top:4px}.v-input--selection-controls>.v-input__append-outer,.v-input--selection-controls>.v-input__prepend-outer{margin-top:0;margin-bottom:0}.v-input--selection-controls:not(.v-input--hide-details)>.v-input__slot{margin-bottom:12px}.v-input--selection-controls .v-input__slot,.v-input--selection-controls .v-radio{cursor:pointer}.v-input--selection-controls .v-input__slot>.v-label,.v-input--selection-controls .v-radio>.v-label{align-items:center;display:inline-flex;flex:1 1 auto;height:auto}.v-input--selection-controls__input{color:inherit;display:inline-flex;flex:0 0 auto;height:24px;position:relative;transition:.3s cubic-bezier(.25,.8,.5,1);transition-property:transform;width:24px;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-input--selection-controls__input .v-icon{width:100%}.v-application--is-ltr .v-input--selection-controls__input{margin-right:8px}.v-application--is-rtl .v-input--selection-controls__input{margin-left:8px}.v-input--selection-controls__input input[role=checkbox],.v-input--selection-controls__input input[role=radio],.v-input--selection-controls__input input[role=switch]{position:absolute;opacity:0;width:100%;height:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-input--selection-controls__input+.v-label{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.v-input--selection-controls__ripple{border-radius:50%;cursor:pointer;height:34px;position:absolute;transition:inherit;width:34px;left:-12px;top:calc(50% - 24px);margin:7px}.v-input--selection-controls__ripple:before{border-radius:inherit;bottom:0;content:"";position:absolute;opacity:.2;left:0;right:0;top:0;transform-origin:center center;transform:scale(.2);transition:inherit}.v-input--selection-controls__ripple>.v-ripple__container{transform:scale(1.2)}.v-input--selection-controls.v-input--dense .v-input--selection-controls__ripple{width:28px;height:28px;left:-9px}.v-input--selection-controls.v-input--dense:not(.v-input--switch) .v-input--selection-controls__ripple{top:calc(50% - 21px)}.v-input--selection-controls.v-input{flex:0 1 auto}.v-input--selection-controls.v-input--is-focused .v-input--selection-controls__ripple:before,.v-input--selection-controls .v-radio--is-focused .v-input--selection-controls__ripple:before{background:currentColor;transform:scale(1.2)}.v-input--selection-controls.v-input--is-disabled:not(.v-input--indeterminate) .v-icon{color:inherit}.v-input--selection-controls.v-input--is-disabled:not(.v-input--is-readonly){pointer-events:none}.v-input--selection-controls__input:hover .v-input--selection-controls__ripple:before{background:currentColor;transform:scale(1.2);transition:none}',""]),t.exports=r},468:function(t,e,o){var content=o(469);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("3c0eddd7",content,!0,{sourceMap:!1})},469:function(t,e,o){var r=o(37)(!1);r.push([t.i,".v-chip-group .v-chip{margin:4px 8px 4px 0}.v-chip-group .v-chip--active{color:inherit}.v-chip-group .v-chip--active.v-chip--no-color:after{opacity:.22}.v-chip-group .v-chip--active.v-chip--no-color:focus:after{opacity:.32}.v-chip-group .v-slide-group__content{padding:4px 0}.v-chip-group--column .v-slide-group__content{white-space:normal;flex-wrap:wrap;max-width:100%}",""]),t.exports=r},485:function(t,e,o){var content=o(583);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("a29714c4",content,!0,{sourceMap:!1})},486:function(t,e,o){var content=o(589);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("4c928d8a",content,!0,{sourceMap:!1})},487:function(t,e,o){var content=o(591);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("6357c71f",content,!0,{sourceMap:!1})},488:function(t,e,o){var content=o(593);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("dbfdf2ba",content,!0,{sourceMap:!1})},489:function(t,e,o){var content=o(597);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(38).default)("013374e2",content,!0,{sourceMap:!1})},582:function(t,e,o){"use strict";o(485)},583:function(t,e,o){var r=o(37)(!1);r.push([t.i,'.content-viewer[data-v-1e951682] .CodeMirror{height:250px!important}.content-viewer[data-v-1e951682] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}.info-table[data-v-1e951682] td:first-child{width:270px;font-weight:500}.info-table[data-v-1e951682] tr:not(:last-child) td{border-bottom:none!important}',""]),t.exports=r},588:function(t,e,o){"use strict";o(486)},589:function(t,e,o){var r=o(37)(!1);r.push([t.i,'.content-viewer[data-v-256bb8bd] .CodeMirror{height:200px!important}.content-viewer[data-v-256bb8bd] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}',""]),t.exports=r},590:function(t,e,o){"use strict";o(487)},591:function(t,e,o){var r=o(37)(!1);r.push([t.i,".run-table[data-v-39872c68] td:first-child{padding-right:0}",""]),t.exports=r},592:function(t,e,o){"use strict";o(488)},593:function(t,e,o){var r=o(37)(!1);r.push([t.i,'.content-viewer[data-v-b61cc122] .CodeMirror{height:300px!important}.content-viewer[data-v-b61cc122] .CodeMirror-lines{font-family:"Fira Code",monospace,sans-serif!important}',""]),t.exports=r},594:function(t,e,o){"use strict";o(19),o(13),o(18),o(6),o(35),o(21),o(36);var r=o(3),n=(o(468),o(461)),l=o(78),c=o(29);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(c.a)(n.a,l.a).extend({name:"v-chip-group",provide:function(){return{chipGroup:this}},props:{column:Boolean},computed:{classes:function(){return f(f({},n.a.options.computed.classes.call(this)),{},{"v-chip-group":!0,"v-chip-group--column":this.column})}},watch:{column:function(t){t&&(this.scrollOffset=0),this.$nextTick(this.onResize)}},methods:{genData:function(){return this.setTextColor(this.color,f({},n.a.options.methods.genData.call(this)))}}})},595:function(t,e,o){"use strict";var r=o(3),n=(o(61),o(76),o(113),o(18),o(6),o(21),o(77),o(138),o(19),o(13),o(35),o(36),o(29)),l=o(141),c=o(207);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=Object(n.a)(l.a,Object(c.b)("form")).extend({name:"v-form",provide:function(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:function(){return{inputs:[],watchers:[],errorBag:{}}},watch:{errorBag:{handler:function(t){var e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput:function(input){var t=this,e=function(input){return input.$watch("hasError",(function(e){t.$set(t.errorBag,input._uid,e)}),{immediate:!0})},o={_uid:input._uid,valid:function(){},shouldValidate:function(){}};return this.lazyValidation?o.shouldValidate=input.$watch("shouldValidate",(function(r){r&&(t.errorBag.hasOwnProperty(input._uid)||(o.valid=e(input)))})):o.valid=e(input),o},validate:function(){return 0===this.inputs.filter((function(input){return!input.validate(!0)})).length},reset:function(){this.inputs.forEach((function(input){return input.reset()})),this.resetErrorBag()},resetErrorBag:function(){var t=this;this.lazyValidation&&setTimeout((function(){t.errorBag={}}),0)},resetValidation:function(){this.inputs.forEach((function(input){return input.resetValidation()})),this.resetErrorBag()},register:function(input){this.inputs.push(input),this.watchers.push(this.watchInput(input))},unregister:function(input){var t=this.inputs.find((function(i){return i._uid===input._uid}));if(t){var e=this.watchers.find((function(i){return i._uid===t._uid}));e&&(e.valid(),e.shouldValidate()),this.watchers=this.watchers.filter((function(i){return i._uid!==t._uid})),this.inputs=this.inputs.filter((function(i){return i._uid!==t._uid})),this.$delete(this.errorBag,t._uid)}}},render:function(t){var e=this;return t("form",{staticClass:"v-form",attrs:f({novalidate:!0},this.attrs$),on:{submit:function(t){return e.$emit("submit",t)}}},this.$slots.default)}})},596:function(t,e,o){"use strict";o(489)},597:function(t,e,o){var r=o(37)(!1);r.push([t.i,".workflow-table[data-v-0db3a362] td:first-child{padding-right:0}",""]),t.exports=r},606:function(t,e,o){"use strict";o(19),o(13),o(18),o(35),o(21),o(36);var r=o(132),n=o(3),l=(o(6),o(69),o(464),o(466),o(403)),c=o(437),d=o(203),f=o(0).a.extend({name:"rippleable",directives:{ripple:d.a},props:{ripple:{type:[Boolean,Object],default:!0}},methods:{genRipple:function(){var data=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.ripple?(data.staticClass="v-input--selection-controls__ripple",data.directives=data.directives||[],data.directives.push({name:"ripple",value:{center:!0}}),this.$createElement("div",data)):null}}}),h=o(446),v=o(29);function m(t){t.preventDefault()}var w=Object(v.a)(c.a,f,h.a).extend({name:"selectable",model:{prop:"inputValue",event:"change"},props:{id:String,inputValue:null,falseValue:null,trueValue:null,multiple:{type:Boolean,default:null},label:String},data:function(){return{hasColor:this.inputValue,lazyValue:this.inputValue}},computed:{computedColor:function(){if(this.isActive)return this.color?this.color:this.isDark&&!this.appIsDark?"white":"primary"},isMultiple:function(){return!0===this.multiple||null===this.multiple&&Array.isArray(this.internalValue)},isActive:function(){var t=this,e=this.value,input=this.internalValue;return this.isMultiple?!!Array.isArray(input)&&input.some((function(o){return t.valueComparator(o,e)})):void 0===this.trueValue||void 0===this.falseValue?e?this.valueComparator(e,input):Boolean(input):this.valueComparator(input,this.trueValue)},isDirty:function(){return this.isActive},rippleState:function(){return this.isDisabled||this.validationState?this.validationState:void 0}},watch:{inputValue:function(t){this.lazyValue=t,this.hasColor=t}},methods:{genLabel:function(){var label=c.a.options.methods.genLabel.call(this);return label?(label.data.on={click:m},label):label},genInput:function(t,e){return this.$createElement("input",{attrs:Object.assign({"aria-checked":this.isActive.toString(),disabled:this.isDisabled,id:this.computedId,role:t,type:t},e),domProps:{value:this.value,checked:this.isActive},on:{blur:this.onBlur,change:this.onChange,focus:this.onFocus,keydown:this.onKeydown,click:m},ref:"input"})},onClick:function(t){this.onChange(),this.$emit("click",t)},onChange:function(){var t=this;if(this.isInteractive){var e=this.value,input=this.internalValue;if(this.isMultiple){Array.isArray(input)||(input=[]);var o=input.length;(input=input.filter((function(o){return!t.valueComparator(o,e)}))).length===o&&input.push(e)}else input=void 0!==this.trueValue&&void 0!==this.falseValue?this.valueComparator(input,this.trueValue)?this.falseValue:this.trueValue:e?this.valueComparator(input,e)?null:e:!input;this.validate(!0,input),this.internalValue=input,this.hasColor=input}},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onKeydown:function(t){}}}),y=["title"];function k(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}function _(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?k(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):k(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=w.extend({name:"v-checkbox",props:{indeterminate:Boolean,indeterminateIcon:{type:String,default:"$checkboxIndeterminate"},offIcon:{type:String,default:"$checkboxOff"},onIcon:{type:String,default:"$checkboxOn"}},data:function(){return{inputIndeterminate:this.indeterminate}},computed:{classes:function(){return _(_({},c.a.options.computed.classes.call(this)),{},{"v-input--selection-controls":!0,"v-input--checkbox":!0,"v-input--indeterminate":this.inputIndeterminate})},computedIcon:function(){return this.inputIndeterminate?this.indeterminateIcon:this.isActive?this.onIcon:this.offIcon},validationState:function(){if(!this.isDisabled||this.inputIndeterminate)return this.hasError&&this.shouldValidate?"error":this.hasSuccess?"success":null!==this.hasColor?this.computedColor:void 0}},watch:{indeterminate:function(t){var e=this;this.$nextTick((function(){return e.inputIndeterminate=t}))},inputIndeterminate:function(t){this.$emit("update:indeterminate",t)},isActive:function(){this.indeterminate&&(this.inputIndeterminate=!1)}},methods:{genCheckbox:function(){var t=this.attrs$,e=(t.title,Object(r.a)(t,y));return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(l.a,this.setTextColor(this.validationState,{props:{dense:this.dense,dark:this.dark,light:this.light}}),this.computedIcon),this.genInput("checkbox",_(_({},e),{},{"aria-checked":this.inputIndeterminate?"mixed":this.isActive.toString()})),this.genRipple(this.setTextColor(this.rippleState))])},genDefaultSlot:function(){return[this.genCheckbox(),this.genLabel()]}}})},615:function(t,e,o){"use strict";o.r(e);var r=o(5),n=(o(61),o(76),o(62),o(0)),l=o(205),c=o(424),d=o(433),f=(o(30),o(77),o(429),o(430),o(431),o(432)),h=o(140),v=o(450),m=Object(n.b)({components:{codemirror:f.codemirror,ErrorSnackbar:v.a},props:{serviceId:{type:String,required:!0}},data:function(){return{serviceInfoHeaders:[{text:"Key",value:"key"},{text:"Value",value:"value"}],tab:1,errorSnackbarShow:!1,errorSnackbarMessage:""}},computed:{service:function(){return this.$store.getters["services/service"](this.serviceId)},serviceInfoContents:function(){return[{key:"Service Endpoint",value:this.service.endpoint},{key:"Added Date",value:this.$dayjs(this.service.addedDate).local().format("YYYY-MM-DD HH:mm:ss")}]},tabItems:function(){var t,e,o,r,n,l,c,d,f,h;return[{key:"Workflow Type Versions",value:JSON.stringify((null===(t=this.service.serviceInfo)||void 0===t?void 0:t.workflow_type_versions)||"",null,2)},{key:"Workflow Engine Versions",value:JSON.stringify((null===(e=this.service.serviceInfo)||void 0===e?void 0:e.workflow_engine_versions)||"",null,2)},{key:"Default Workflow Engine Parameters",value:JSON.stringify((null===(r=null===(o=this.service)||void 0===o?void 0:o.serviceInfo)||void 0===r?void 0:r.default_workflow_engine_parameters)||"",null,2)},{key:"Supported Filesystem Protocols",value:JSON.stringify((null===(l=null===(n=this.service)||void 0===n?void 0:n.serviceInfo)||void 0===l?void 0:l.supported_filesystem_protocols)||(null===(d=null===(c=this.service)||void 0===c?void 0:c.serviceInfo)||void 0===d?void 0:d.supported_filesystem_protocols)||"",null,2)},{key:"Tags",value:JSON.stringify((null===(h=null===(f=this.service)||void 0===f?void 0:f.serviceInfo)||void 0===h?void 0:h.tags)||"",null,2)}]},newsContent:function(){var t,e;return(null===(e=null===(t=this.service.serviceInfo)||void 0===t?void 0:t.tags)||void 0===e?void 0:e.news_content)||""}},methods:{reloadService:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("services/updateService",t.serviceId).catch((function(e){t.errorSnackbarShow=!0,t.errorSnackbarMessage="Failed to reload service: ".concat(e),setTimeout((function(){t.errorSnackbarShow=!1}),5e3)}));case 2:case"end":return e.stop()}}),e)})))()},codeMirrorMode:function(content){return Object(h.a)(content)},validUrl:function(t){return Object(h.g)(t)}}}),w=(o(582),o(75)),y=o(137),k=o.n(y),_=o(607),x=o(408),C=o(416),I=o(472),S=o(619),T=o(407),O=o(414),V=o(612),P=o(624),j=o(621),N=o(613),component=Object(w.a)(m,(function(){var t=this,e=t._self._c;t._self._setupProxy;return t.service?e("v-card",{ref:"card",attrs:{"max-width":"1200"}},[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-dns-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s(t.service.name)}}),t._v(" "),t.service.preRegistered?e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("v-icon",t._g({staticClass:"ml-2 mt-1",attrs:{color:t.$colors.indigo.darken1},domProps:{textContent:t._s("mdi-account-check-outline")}},r))]}}],null,!1,3490612083)},[t._v(" "),e("span",{domProps:{textContent:t._s("Pre-registered WES endpoint")}})]):t._e(),t._v(" "),e("v-spacer"),t._v(" "),e("v-chip",{staticClass:"mr-4",attrs:{color:t.$store.getters["services/stateColor"](t.service.id),"text-color":"white"},domProps:{textContent:t._s(t.service.state)}}),t._v(" "),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("v-btn",t._g({attrs:{color:t.$colors.grey.darken2,outlined:"",small:""},on:{click:function(e){return e.stopPropagation(),t.reloadService.apply(null,arguments)}}},r),[e("v-icon",{domProps:{textContent:t._s("mdi-reload")}})],1)]}}],null,!1,781684642)},[t._v(" "),e("span",{domProps:{textContent:t._s("Reload WES endpoint")}})])],1),t._v(" "),t.newsContent.length?e("v-alert",{staticClass:"mx-12 mt-4",attrs:{dense:"",icon:"mdi-information-outline",outlined:"",text:"",type:"primary"}},[t._v("\n      "+t._s(t.newsContent)+"\n    ")]):t._e(),t._v(" "),e("v-data-table",{staticClass:"mx-12 mt-2 info-table",attrs:{"calculate-widths":"","disable-filtering":"","disable-pagination":"","disable-sort":"",headers:t.serviceInfoHeaders,"hide-default-footer":"","hide-default-header":"","item-key":"key",items:t.serviceInfoContents},scopedSlots:t._u([{key:"item.value",fn:function(o){var r=o.item;return[e("span",{domProps:{textContent:t._s(r.value)}})]}}],null,!0)}),t._v(" "),e("div",{staticClass:"mx-12"},[e("v-tabs",{attrs:{height:"282",vertical:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[t._l(t.tabItems,(function(o){return e("v-tab",{key:o.key,style:{textTransform:"none",justifyContent:"start",letterSpacing:"normal"},domProps:{textContent:t._s(o.key)}})})),t._v(" "),t._l(t.tabItems,(function(o){return e("v-tab-item",{key:o.key},[e("codemirror",{ref:"codeMirror",refInFor:!0,staticClass:"ml-6 mr-1 mt-2 mb-6 elevation-2 content-viewer",style:{outline:"solid 1px ".concat(t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,mode:t.codeMirrorMode(o.value),readOnly:!0,tabSize:2},value:o.value}})],1)}))],2)],1),t._v(" "),e("error-snackbar",{attrs:{message:t.errorSnackbarMessage,show:t.errorSnackbarShow},on:{close:function(e){t.errorSnackbarShow=!1}}})],1):t._e()}),[],!1,null,"1e951682",null),R=component.exports;k()(component,{VAlert:_.a,VBtn:x.a,VCard:C.a,VChip:I.a,VDataTable:S.a,VIcon:T.a,VSpacer:O.a,VTab:V.a,VTabItem:P.a,VTabs:j.a,VTooltip:N.a});o(47),o(18),o(6),o(48),o(39),o(210),o(211),o(212),o(213),o(214),o(215),o(216),o(217),o(218),o(219),o(220),o(221),o(222),o(223),o(224),o(225),o(226),o(43),o(55);var $=Object(n.b)({props:{dialogShow:{type:Boolean,default:!1,required:!0},selectedItems:{type:Array,default:[],required:!0}},methods:{deleteSelectedItems:function(){this.$store.dispatch("runs/deleteRuns",this.selectedItems.map((function(t){return t.runId}))),this.$emit("close")}}}),D=o(622),W=Object(w.a)($,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"overlay-opacity":"0.8",value:t.dialogShow,width:"600"},on:{"click:outside":function(e){return t.$emit("close")},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}}},[e("v-card",[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-trash-can-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Remove Run")}})],1),t._v(" "),e("div",{staticClass:"mx-12 my-2",domProps:{textContent:t._s("The following run will be removed:")}}),t._v(" "),e("ul",{style:{paddingLeft:"96px",paddingRight:"96px"}},t._l(t.selectedItems,(function(o,i){return e("li",{key:i,domProps:{textContent:t._s(o.runName)}})})),0),t._v(" "),e("div",{staticClass:"d-flex justify-end mx-12 mt-4 pb-6"},[e("v-btn",{attrs:{color:"error",outlined:""},on:{click:function(e){return e.stopPropagation(),t.deleteSelectedItems.apply(null,arguments)}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-trash-can-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Remove")}})],1),t._v(" "),e("v-btn",{staticClass:"ml-4",attrs:{color:"info",outlined:""},on:{click:function(e){return e.stopPropagation(),t.$emit("close")}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-close")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Cancel")}})],1)],1)])],1)}),[],!1,null,null,null),M=W.exports;k()(W,{VBtn:x.a,VCard:C.a,VDialog:D.a,VIcon:T.a});o(16),o(63),o(23),o(204),o(171),o(42),o(13),o(49),o(56);var E=o(53);function F(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return A(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return A(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,n=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw n}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var B=[],U=Object(n.b)({components:{codemirror:f.codemirror},props:{dialogShow:{type:Boolean,default:!1,required:!0},serviceId:{type:String,required:!0}},data:function(){return{runId:"",getFailed:!0,runLog:void 0,runName:"",workflowName:"",workflowType:"",workflowVersion:"",workflowUrl:"",workflowContent:""}},computed:{service:function(){return this.$store.getters["services/service"](this.serviceId)},workflows:function(){return this.$store.getters["workflows/workflowsByIds"](this.service.workflowIds)},runIdRules:function(){return this.runId?this.service.runIds.includes(this.runId)?["The Run ID already exists"]:this.getFailed?["The Run could not be fetched correctly"]:[]:["Required"]},formValid:function(){return!this.runIdRules.length}},methods:{changeRunId:function(){for(var t=this;B.length;){var e=B.shift();e&&clearTimeout(e)}var o=setTimeout((function(e){t.getRunsId(e)}),1e3,this.runId);B.push(o)},getRunsId:function(t){var e=this;this.service.runIds.includes(this.runId)||Object(E.c)(this.service.endpoint,t).then((function(o){if(!(o.request&&o.run_log&&o.request.workflow_url&&o.request.workflow_type&&o.request.workflow_type_version))throw new Error("The Run could not be fetched correctly");if(e.runLog=o,"workflow_name"in o.request){var r=o.request.workflow_url||"";e.workflowName=o.request.workflow_name||r.split("/").pop()||t}else{var n=o.request.workflow_url||"";e.workflowName=n.split("/").pop()||t}var l=o.run_log.start_time;!l&&"task_started"in o.run_log&&(l=o.run_log.task_started);var c=Object(h.d)(e.$dayjs,Object(h.c)(l));e.runName="".concat(e.workflowName," ").concat(c),e.workflowType=o.request.workflow_type,e.workflowVersion=o.request.workflow_type_version;var d=[];"workflow_attachment"in o.request&&(d=JSON.parse(Object(h.c)(o.request.workflow_attachment))||[]);var f=Object(h.c)(o.request.workflow_url)||"";try{var v=new URL(f);Object(h.b)(v).then((function(t){e.workflowUrl=t}))}catch(t){var m,w=f.split("/").pop()||f,y=F(d);try{for(y.s();!(m=y.n()).done;){var k=m.value;if(k.file_name.includes(w)){e.workflowUrl=k.file_url;break}}}catch(t){y.e(t)}finally{y.f()}}Object(E.a)({workflow_name:e.workflowName,workflow_url:e.workflowUrl,workflow_type:e.workflowType,workflow_type_version:e.workflowVersion,workflow_attachment:d}).then((function(t){e.workflowContent=t})).catch((function(){throw new Error("The Workflow could not be fetched correctly")})),e.getFailed=!1})).catch((function(t){e.getFailed=!0,e.clearState()}))},clearState:function(){this.runLog=void 0,this.runName="",this.workflowName="",this.workflowType="",this.workflowVersion="",this.workflowUrl="",this.workflowContent=""},codeMirrorMode:function(content){return Object(h.a)(content)},importRun:function(){var t,e,o=this;if(this.formValid){var r=null===(t=this.workflows.filter((function(t){return t.name===o.workflowName}))[0])||void 0===t?void 0:t.id;if(r)this.$store.dispatch("runs/addRun",{serviceId:this.serviceId,workflowId:r,runId:this.runId,runName:this.runName,runLog:this.runLog});else{var n=[];(null===(e=this.runLog)||void 0===e?void 0:e.request)&&"workflow_attachment"in this.runLog.request&&(n=this.runLog.request.workflow_attachment),this.$store.dispatch("workflows/addWorkflow",{serviceId:this.serviceId,workflow:{workflow_name:this.workflowName,workflow_url:this.workflowUrl,workflow_type:this.workflowType,workflow_type_version:this.workflowVersion,workflow_attachment:n},preRegistered:!1}).then((function(t){o.$store.dispatch("services/addWorkflowId",{serviceId:o.serviceId,workflowId:t}),o.$store.dispatch("runs/addRun",{serviceId:o.serviceId,workflowId:t,runId:o.runId,runName:o.runName,runLog:o.runLog})}))}this.$router.push({path:"/runs",query:{runId:this.runId}})}}}}),L=(o(588),o(470)),z=Object(w.a)(U,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"overlay-opacity":"0.8",value:t.dialogShow,width:"900"},on:{"click:outside":function(e){return t.$emit("close")},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}}},[e("v-card",[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-sticker-plus-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Import Run")}})],1),t._v(" "),e("div",{staticClass:"mx-12 my-2"},[e("v-text-field",{staticClass:"ma-0",attrs:{hint:"Enter the Run ID included in this WES endpoint",label:"Run ID","persistent-hint":!t.runId.length,placeholder:"Enter the Run ID",rules:t.runIdRules},on:{input:t.changeRunId},model:{value:t.runId,callback:function(e){t.runId=e},expression:"runId"}}),t._v(" "),t.getFailed?t._e():e("v-text-field",{staticClass:"ma-0",attrs:{label:"Run Name",readonly:""},model:{value:t.runName,callback:function(e){t.runName=e},expression:"runName"}}),t._v(" "),t.getFailed?t._e():e("v-text-field",{staticClass:"ma-0",attrs:{label:"Workflow Name",readonly:""},model:{value:t.workflowName,callback:function(e){t.workflowName=e},expression:"workflowName"}}),t._v(" "),e("div",{staticClass:"d-flex"},[t.getFailed?t._e():e("v-text-field",{staticClass:"my-0 mr-auto",style:{maxWidth:"48%",minWidth:"48%"},attrs:{label:"Workflow Type",readonly:""},model:{value:t.workflowType,callback:function(e){t.workflowType=e},expression:"workflowType"}}),t._v(" "),t.getFailed?t._e():e("v-text-field",{staticClass:"ma-0",style:{maxWidth:"48%",minWidth:"48%"},attrs:{label:"Workflow Version",readonly:""},model:{value:t.workflowVersion,callback:function(e){t.workflowVersion=e},expression:"workflowVersion"}})],1),t._v(" "),t.getFailed?t._e():e("v-text-field",{staticClass:"ma-0",attrs:{label:"Workflow URL",readonly:""},model:{value:t.workflowUrl,callback:function(e){t.workflowUrl=e},expression:"workflowUrl"}}),t._v(" "),t.getFailed?t._e():e("codemirror",{staticClass:"elevation-2 content-viewer",style:{outline:"solid 1px ".concat(t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,tabSize:2,mode:t.codeMirrorMode(t.workflowContent),readOnly:!0}},model:{value:t.workflowContent,callback:function(e){t.workflowContent=e},expression:"workflowContent"}})],1),t._v(" "),e("div",{staticClass:"d-flex justify-end mx-12 pb-6 mt-4"},[e("v-btn",{attrs:{color:"primary",disabled:!t.formValid,outlined:""},on:{click:function(e){return e.stopPropagation(),t.importRun.apply(null,arguments)}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-sticker-plus-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("import")}})],1)],1)])],1)}),[],!1,null,"256bb8bd",null),H=z.exports;k()(z,{VBtn:x.a,VCard:C.a,VDialog:D.a,VIcon:T.a,VTextField:L.a});var J=o(435),K=Object(n.b)({components:{RunDeleteDialog:M,RunImportDialog:H,WorkflowIcon:J.a,ErrorSnackbar:v.a},props:{serviceId:{type:String,required:!0}},data:function(){return{runHeaders:[{text:"",value:"workflowType",sortable:!1,width:"40px"},{text:"Name",value:"runName",sortable:!0},{text:"Workflow",value:"workflowName",sortable:!0},{text:"Added Date",value:"addedDate",sortable:!0},{text:"",value:"state",sortable:!1},{text:"",value:"delete",sortable:!1,align:"center",width:"64px"}],selectedRuns:[],importDialogShow:!1,deleteDialogShow:!1,filterType:"",filterWfName:"",filterRunName:"",errorSnackbarShow:!1,errorSnackbarMessage:""}},computed:{service:function(){return this.$store.getters["services/service"](this.serviceId)},runsTableItems:function(){return this.$store.getters["runs/tableItems"](this.service.runIds)},filteredItems:function(){var t=this;return this.runsTableItems.filter((function(e){return(!t.filterType||e.workflowType===t.filterType)&&(!(t.filterWfName&&!e.workflowName.includes(t.filterWfName))&&!(t.filterRunName&&!e.runName.includes(t.filterRunName)))}))},workflowTypes:function(){return Array.from(new Set(this.runsTableItems.map((function(t){return t.workflowType}))))}},methods:{reloadRunState:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("runs/updateAllRunsStateByService",t.service.id).catch((function(e){t.errorSnackbarShow=!0,t.errorSnackbarMessage="Failed to reload run state: ".concat(e),setTimeout((function(){t.errorSnackbarShow=!1}),5e3)}));case 2:case"end":return e.stop()}}),e)})))()}}}),Y=(o(590),o(493)),G=Object(w.a)(K,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-card",{attrs:{"max-width":"1200"}},[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-chart-box-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Runs")}}),t._v(" "),e("v-spacer"),t._v(" "),t.runsTableItems.length?e("v-select",{staticClass:"mt-2 mr-6",style:{maxWidth:"160px",minWidth:"160px"},attrs:{clearable:"",dense:"","hide-details":"",items:t.workflowTypes,label:"Type","prepend-inner-icon":"mdi-filter-outline","single-line":""},model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}}):t._e(),t._v(" "),t.runsTableItems.length?e("v-text-field",{staticClass:"mt-2 mr-6",style:{maxWidth:"200px",minWidth:"200px"},attrs:{clearable:"",dense:"","hide-details":"",label:"Run Name","prepend-inner-icon":"mdi-magnify","single-line":""},model:{value:t.filterRunName,callback:function(e){t.filterRunName=e},expression:"filterRunName"}}):t._e(),t._v(" "),t.runsTableItems.length?e("v-text-field",{staticClass:"mt-2 mr-6",style:{maxWidth:"200px",minWidth:"200px"},attrs:{clearable:"",dense:"","hide-details":"",label:"Workflow Name","prepend-inner-icon":"mdi-magnify","single-line":""},model:{value:t.filterWfName,callback:function(e){t.filterWfName=e},expression:"filterWfName"}}):t._e(),t._v(" "),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("v-btn",t._g({attrs:{color:t.$colors.grey.darken2,disabled:!t.runsTableItems.length,outlined:"",small:""},on:{click:function(e){return e.stopPropagation(),t.reloadRunState.apply(null,arguments)}}},r),[e("v-icon",{domProps:{textContent:t._s("mdi-reload")}})],1)]}}])},[t._v(" "),e("span",{domProps:{textContent:t._s("Reload run status")}})])],1),t._v(" "),t.runsTableItems.length?t._e():e("div",{staticClass:"mx-12 my-2"},[e("span",{style:{fontSize:"1rem",color:t.$colors.grey.darken4},domProps:{textContent:t._s("Executed runs will show up here.")}})]),t._v(" "),t.runsTableItems.length?e("v-data-table",{staticClass:"mx-12 my-2 run-table",attrs:{headers:t.runHeaders,"item-key":"runId",items:t.filteredItems,"items-per-page":Number(10)},scopedSlots:t._u([{key:"item.workflowType",fn:function(t){var o=t.item;return[e("workflow-icon",{attrs:{"wf-type":o.workflowType}})]}},{key:"item.runName",fn:function(o){var r=o.item;return[e("nuxt-link",{style:{textDecoration:"none"},attrs:{to:{path:"/runs",query:{runId:r.runId}}},domProps:{textContent:t._s(r.runName)}})]}},{key:"item.workflowName",fn:function(o){var r=o.item;return[e("nuxt-link",{style:{textDecoration:"none"},attrs:{to:{path:"/workflows",query:{workflowId:r.workflowId}}},domProps:{textContent:t._s(r.workflowName)}})]}},{key:"item.state",fn:function(o){var r=o.item;return[e("v-chip",{attrs:{color:r.stateColor,"text-color":"white"},domProps:{textContent:t._s(r.state)}})]}},{key:"item.delete",fn:function(o){var r=o.item;return[e("v-icon",{attrs:{color:t.$colors.grey.darken2},domProps:{textContent:t._s("mdi-trash-can-outline")},on:{click:function(e){e.stopPropagation(),t.selectedRuns=[r],t.deleteDialogShow=!0}}})]}}],null,!0)}):t._e(),t._v(" "),e("div",{staticClass:"d-flex justify-end pb-6 mr-12 mt-2"},[e("v-btn",{attrs:{color:"primary",outlined:"",width:"140"},on:{click:function(e){e.stopPropagation(),t.importDialogShow=!0}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-sticker-plus-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Import")}})],1)],1),t._v(" "),e("run-import-dialog",{attrs:{"dialog-show":t.importDialogShow,"service-id":t.serviceId},on:{close:function(e){t.importDialogShow=!1}}}),t._v(" "),e("run-delete-dialog",{attrs:{"dialog-show":t.deleteDialogShow,"selected-items":t.selectedRuns},on:{close:function(e){t.deleteDialogShow=!1,t.selectedRuns=[]}}}),t._v(" "),e("error-snackbar",{attrs:{message:t.errorSnackbarMessage,show:t.errorSnackbarShow},on:{close:function(e){t.errorSnackbarShow=!1}}})],1)}),[],!1,null,"39872c68",null),Q=G.exports;k()(G,{VBtn:x.a,VCard:C.a,VChip:I.a,VDataTable:S.a,VIcon:T.a,VSelect:Y.a,VSpacer:O.a,VTextField:L.a,VTooltip:N.a});var X=Object(n.b)({props:{dialogShow:{type:Boolean,default:!1,required:!0},selectedItems:{type:Array,default:[],required:!0}},methods:{deleteSelectedItems:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("workflows/deleteWorkflows",{workflowIds:t.selectedItems.map((function(t){return t.workflowId}))});case 2:t.$emit("close");case 3:case"end":return e.stop()}}),e)})))()}}}),Z=Object(w.a)(X,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"overlay-opacity":"0.8",value:t.dialogShow,width:"600"},on:{"click:outside":function(e){return t.$emit("close")},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}}},[e("v-card",[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-trash-can-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Remove Workflow")}})],1),t._v(" "),e("div",{staticClass:"mx-12 my-2",domProps:{textContent:t._s("The following workflow will be removed:")}}),t._v(" "),e("ul",{style:{paddingLeft:"96px",paddingRight:"96px"}},t._l(t.selectedItems,(function(o,i){return e("li",{key:i,domProps:{textContent:t._s(o.workflowName)}})})),0),t._v(" "),e("div",{staticClass:"mx-12 my-2",domProps:{textContent:t._s("Runs associated with this workflow will also be removed.")}}),t._v(" "),e("div",{staticClass:"d-flex justify-end mx-12 mt-4 pb-6"},[e("v-btn",{attrs:{color:"error",outlined:""},on:{click:function(e){return e.stopPropagation(),t.deleteSelectedItems.apply(null,arguments)}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-trash-can-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Remove")}})],1),t._v(" "),e("v-btn",{staticClass:"ml-4",attrs:{color:"info",outlined:""},on:{click:function(e){return e.stopPropagation(),t.$emit("close")}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-close")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Cancel")}})],1)],1)])],1)}),[],!1,null,null,null),tt=Z.exports;k()(Z,{VBtn:x.a,VCard:C.a,VDialog:D.a,VIcon:T.a});o(65);function et(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return ot(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ot(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,n=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw n}}}}function ot(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var nt=[],it=Object(n.b)({components:{codemirror:f.codemirror},props:{dialogShow:{type:Boolean,default:!1,required:!0},serviceId:{type:String,required:!0}},data:function(){return{name:"",type:"",version:"",locationMode:"fetch",url:"",fetchFailed:!1,wfContentFetch:"",attachAsFile:!1,wfContentUpload:"",fileName:"",submitButton:!0}},computed:{service:function(){return this.$store.getters["services/service"](this.serviceId)},wesVersion:function(){return this.$store.getters["services/wesVersion"](this.serviceId)},inspected:function(){return"sapporo-1.0.1"!==this.wesVersion||!(!this.wfContentFetch&&!this.wfContentUpload)},wfNames:function(){return this.$store.getters["workflows/workflowsByIds"](this.service.workflowIds).map((function(t){return t.name}))},types:function(){var t=this.$store.getters["services/workflowLanguages"](this.serviceId),e=t.map((function(t){return t.name}));return 1===e.length&&(this.type=e[0]),t.map((function(t){return t.name}))},versions:function(){var t,e=et(this.$store.getters["services/workflowLanguages"](this.serviceId));try{for(e.s();!(t=e.n()).done;){var o=t.value;if(o.name===this.type){var r=o.versions;return 1===r.length&&(this.version=r[0]),r}}}catch(t){e.e(t)}finally{e.f()}return[]},registerValid:function(){var content="fetch"===this.locationMode?!!this.wfContentFetch.length:!!this.wfContentUpload.length;return!this.nameRules.length&&!this.typeRules.length&&!this.versionRules.length&&!this.urlRules.length&&!this.fileNameRules.length&&content},nameRules:function(){return this.name?this.wfNames.includes(this.name)?["Typed name already exists"]:[]:["Required"]},typeRules:function(){return this.type?[]:["Required"]},versionRules:function(){return this.version?[]:["Required"]},urlRules:function(){if("fetch"===this.locationMode){if(!this.url)return["Required"];if(!Object(h.g)(this.url))return["Invalid URL"];if(this.fetchFailed)return["Failed to get the workflow content from the entered URL"]}return[]},fileNameRules:function(){return"upload"!==this.locationMode||this.fileName?[]:["Required"]}},watch:{type:function(){"CWL"===this.type?this.attachAsFile=!1:this.attachAsFile=!0},wfContentUpload:function(){var t=this;"sapporo-1.0.1"===this.wesVersion&&this.wfContentUpload&&(this.inspected||Object(E.g)(this.service.endpoint,{workflow_content:this.wfContentUpload,types_of_parsing:["workflow_type","workflow_type_version"]}).then((function(e){t.type=e.workflow_type||"",t.version=e.workflow_type_version||""})).catch((function(e){t.type="",t.version=""})))},dialogShow:function(){this.dialogShowModel=this.dialogShow}},methods:{changeType:function(){this.type&&1===this.versions.length?this.version=this.versions[0]:this.version=""},changeUrl:function(){for(var t=this;nt.length;){var e=nt.shift();e&&clearTimeout(e)}var o=setTimeout((function(e){t.fetchWfContent(e)}),1e3,this.url);nt.push(o)},fetchWfContent:function(t){var e=this;Object(h.g)(t)?Object(h.b)(this.url).then((function(t){e.url=t,"sapporo-1.0.1"===e.wesVersion&&Object(E.g)(e.service.endpoint,{workflow_location:t,types_of_parsing:["workflow_type","workflow_type_version"]}).then((function(t){e.type=t.workflow_type||"",e.version=t.workflow_type_version||""})).catch((function(t){e.type="",e.version=""})),fetch(e.url).then((function(t){t.ok?t.text().then((function(content){e.fetchFailed=!1,e.wfContentFetch=content,e.name||(e.name=(e.url.split("/").pop()||"").replace(/\.[^/.]+$/,""))})):(e.fetchFailed=!0,e.wfContentFetch="")})).catch((function(t){e.fetchFailed=!0,e.wfContentFetch=""}))})):this.wfContentFetch=""},setDragFileName:function(t){var e,o,r,n;(null===(r=null===(o=null===(e=null==t?void 0:t.dataTransfer)||void 0===e?void 0:e.files)||void 0===o?void 0:o[0])||void 0===r?void 0:r.name)&&(this.fileName=null===(n=null==t?void 0:t.dataTransfer)||void 0===n?void 0:n.files[0].name,this.name||(this.name=(this.fileName.split("/").pop()||"").replace(/\.[^/.]+$/,"")))},submitWorkflow:function(){var t=this;if(this.registerValid){this.submitButton=!1;var e="";if("fetch"===this.locationMode)if(this.attachAsFile)e=new URL(this.url).pathname.split("/").pop()||this.url;else e=this.url;else e=this.fileName;this.$store.dispatch("workflows/submitWorkflow",{serviceId:this.serviceId,name:this.name,type:this.type,version:this.version,url:e,content:"fetch"===this.locationMode?this.wfContentFetch:this.wfContentUpload,preRegistered:!1}).then((function(e){t.$emit("close"),t.$router.push({path:"/workflows",query:{workflowId:e}})}))}},codeMirrorMode:function(content){return Object(h.a)(content)}}}),st=(o(592),o(606)),at=o(594),lt=Object(w.a)(it,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"overlay-opacity":"0.8",value:t.dialogShow,width:"900"},on:{"click:outside":function(e){return t.$emit("close")},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}}},[e("v-card",[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-sticker-plus-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Add Workflow")}})],1),t._v(" "),e("div",{staticClass:"mx-12 my-2"},[t.inspected?e("v-text-field",{attrs:{hint:"Name of the workflow (free text, e.g., 'Test workflow,' etc.)",label:"Name","persistent-hint":!t.name.length,placeholder:"Type a name",rules:t.nameRules},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}):t._e(),t._v(" "),t.inspected?e("v-select",{attrs:{hint:"Select the workflow language type",items:t.types,label:"Type","persistent-hint":!t.type.length,rule:t.typeRules},on:{change:t.changeType},model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}):t._e(),t._v(" "),t.inspected?e("v-select",{attrs:{disabled:!t.type,hint:"Select the workflow language version",items:t.versions,label:"Version","persistent-hint":!t.type.length,rules:t.versionRules},model:{value:t.version,callback:function(e){t.version=e},expression:"version"}}):t._e()],1),t._v(" "),e("div",{staticClass:"mx-12 mt-2"},[e("div",{staticClass:"d-flex align-center"},[e("span",{style:{color:"".concat(t.$colors.grey.darken2)},domProps:{textContent:t._s("Document")}}),t._v(" "),e("v-chip-group",{staticClass:"ml-6",attrs:{color:"primary",mandatory:""},model:{value:t.locationMode,callback:function(e){t.locationMode=e},expression:"locationMode"}},[e("v-chip",{attrs:{label:"",outlined:"",value:"fetch"}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-download-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Fetch")}})],1),t._v(" "),e("v-chip",{attrs:{label:"",outlined:"",value:"upload"}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-upload-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Upload")}})],1)],1)],1),t._v(" "),"fetch"===t.locationMode?e("div",{staticClass:"ml-4 d-flex flex-column"},[e("v-text-field",{staticClass:"ma-0",attrs:{hint:"Network reachable location of the workflow document",label:"URL","persistent-hint":!t.url.length,placeholder:"Type a URL",rules:t.urlRules},on:{input:t.changeUrl},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}}),t._v(" "),t.wfContentFetch.length?e("codemirror",{staticClass:"elevation-2 content-viewer",style:{outline:"solid 1px ".concat(t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,tabSize:2,mode:t.codeMirrorMode(t.wfContentFetch),readOnly:!0}},model:{value:t.wfContentFetch,callback:function(e){t.wfContentFetch=e},expression:"wfContentFetch"}}):t._e()],1):"upload"===t.locationMode?e("div",{staticClass:"ml-4 d-flex flex-column"},[t.wfContentUpload.length?t._e():e("div",{staticClass:"mb-2"},[e("span",{style:{color:"".concat(t.$colors.grey.darken2),fontSize:"0.9rem"},domProps:{textContent:t._s("Drag-and-Drop or Copy-and-Paste the document into the box below.")}})]),t._v(" "),t.wfContentUpload.length?e("v-text-field",{staticClass:"ma-0",attrs:{hint:"The name of workflow document when it is placed in the execution directory and passed to the workflow engine",label:"File Name","persistent-hint":!t.fileName.length,placeholder:"Type a file name",rules:t.fileNameRules},model:{value:t.fileName,callback:function(e){t.fileName=e},expression:"fileName"}}):t._e(),t._v(" "),e("div",{on:{drop:t.setDragFileName}},[e("codemirror",{staticClass:"elevation-2 content-viewer",style:{outline:"solid 1px ".concat(t.$colors.grey.lighten1)},attrs:{options:{lineNumbers:!0,tabSize:2,mode:t.codeMirrorMode(t.wfContentUpload),readOnly:!1}},model:{value:t.wfContentUpload,callback:function(e){t.wfContentUpload=e},expression:"wfContentUpload"}})],1)],1):t._e()]),t._v(" "),e("div",{staticClass:"d-flex justify-end align-center mx-12 pb-6 mt-4"},["fetch"===t.locationMode&&t.wfContentFetch.length?e("v-tooltip",{attrs:{"max-width":"400",top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("div",t._g({staticClass:"mr-6"},r),[e("v-checkbox",{staticClass:"ma-0 pa-0",attrs:{"hide-details":"",label:"Attach as File"},model:{value:t.attachAsFile,callback:function(e){t.attachAsFile=e},expression:"attachAsFile"}})],1)]}}],null,!1,596384175)},[t._v(" "),e("span",{domProps:{textContent:t._s("Check this box if you want to place the workflow document in the execution directory and pass it as a local path, instead of passing the remote URL directly to the workflow engine.")}})]):t._e(),t._v(" "),e("v-btn",{attrs:{color:"primary",disabled:!(t.registerValid&&t.submitButton),outlined:""},on:{click:function(e){return e.stopPropagation(),t.submitWorkflow.apply(null,arguments)}}},[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-arrow-up")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Submit")}})],1)],1)])],1)}),[],!1,null,"b61cc122",null),ct=lt.exports;k()(lt,{VBtn:x.a,VCard:C.a,VCheckbox:st.a,VChip:I.a,VChipGroup:at.a,VDialog:D.a,VIcon:T.a,VSelect:Y.a,VTextField:L.a,VTooltip:N.a});o(71),o(295);var ut=o(135);function ft(t,e){var o="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!o){if(Array.isArray(t)||(o=function(t,e){if(!t)return;if("string"==typeof t)return pt(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return pt(t,e)}(t))||e&&t&&"number"==typeof t.length){o&&(t=o);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,l=!0,c=!1;return{s:function(){o=o.call(t)},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,n=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw n}}}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}var ht=[],vt=[{name:"DDBJ Workflow Registry",endpoint:"https://ddbj.github.io/workflow-registry"},{name:"WorkflowHub",endpoint:"https://workflowhub.eu/ga4gh/trs/v2"},{name:"Dockstore",endpoint:"https://dockstore.org/api/ga4gh/trs/v2"}],mt=Object(n.b)({components:{WorkflowIcon:J.a},props:{dialogShow:{type:Boolean,default:!1,required:!0},serviceId:{type:String,required:!0}},data:function(){return{trsEndpoint:vt.filter((function(t){return"DDBJ Workflow Registry"===t.name}))[0].endpoint,defaultEndpoints:vt,fetchFailed:!1,serviceInfo:null,filterType:null,filterWorkflowName:"",filterOrganization:"",tableContents:[],formError:""}},computed:{service:function(){return this.$store.getters["services/service"](this.serviceId)},wfLangs:function(){return this.$store.getters["services/workflowLanguages"](this.serviceId)},wfTypes:function(){return this.wfLangs.map((function(t){return t.name}))},trsEndpointRules:function(){if(!this.trsEndpoint)return["Required"];if(!Object(h.g)(this.trsEndpoint))return["Invalid URL"];if(this.fetchFailed)return["Failed to fetch TRS response from the endpoint"];if(this.serviceInfo){if(!["trs","yevis"].includes(this.serviceInfo.type.artifact.toLowerCase()))return["Not a TRS endpoint"];if(!this.serviceInfo.type.version.startsWith("2"))return["Not a TRS v2 endpoint"]}return[]},tableHeaders:function(){var t,e=[{text:"",value:"workflowType",sortable:!1,width:"40px"},{text:"Name",value:"workflowNameVal",sortable:!0},{text:"Organization",value:"organization",sortable:!0},{text:"",value:"importButton",sortable:!1}];return"https://dockstore.org/api/ga4gh/trs/v2"!==this.trsEndpoint&&"yevis"!==(null===(t=this.serviceInfo)||void 0===t?void 0:t.type.artifact.toLowerCase())&&e.splice(3,0,{text:"Workflow URL",value:"workflowUrl",sortable:!1}),e},filteredTableContents:function(){var t=this;return this.tableContents.filter((function(e){return(!t.filterType||e.workflowType===t.filterType)&&(!(t.filterWorkflowName&&!e.workflowName.toLowerCase().includes(t.filterWorkflowName))&&!(t.filterOrganization&&!e.organization.toLowerCase().includes(t.filterOrganization)))}))},loading:function(){return!(!this.trsEndpoint||0!==this.tableContents.length||this.fetchFailed)}},mounted:function(){this.fetchTrs(this.trsEndpoint)},methods:{changeTrsEndpoint:function(t){for(var e=this;ht.length;){var o=ht.shift();o&&clearTimeout(o)}var r=setTimeout((function(t){e.fetchTrs(t)}),500,this.trsEndpoint);ht.push(r)},fetchTrs:function(t){var e=this;Object(h.g)(t)&&(this.trsEndpoint=t.replace(/\/$/,""),Object(ut.e)(this.trsEndpoint).then((function(t){e.fetchFailed=!1,e.serviceInfo=t,e.updateTableContents()})).catch((function(){e.fetchFailed=!0,e.serviceInfo=null})))},importWorkflow:function(t){var e=this;this.$store.dispatch("workflows/importWorkflowFromTrs",{serviceId:this.serviceId,trsEndpoint:this.trsEndpoint,trsWorkflowId:t.id,trsWorkflowVersion:t.version,trsWorkflowType:t.workflowType,trsWorkflowName:"".concat(t.workflowName,": ").concat(t.workflowVersion)}).then((function(t){e.$emit("close"),e.$router.push({path:"/workflows",query:{workflowId:t}})})).catch((function(t){e.formError="Failed to import workflow: ".concat(t)}))},updateTableContents:function(){var t=this;if(this.tableContents=[],this.formError="",this.serviceInfo&&["trs","yevis"].includes(this.serviceInfo.type.artifact.toLowerCase())&&this.serviceInfo.type.version.startsWith("2"))if("trs"===this.serviceInfo.type.artifact.toLowerCase()){var e,o=ft(this.wfTypes);try{for(o.s();!(e=o.n()).done;){var r=e.value;Object(ut.f)(this.trsEndpoint,r).then((function(e){var o,r=ft(e);try{for(r.s();!(o=r.n()).done;){var n,l=o.value,c=ft(l.versions);try{for(c.s();!(n=c.n()).done;){var d=n.value;if(d.descriptor_type){var f,h=ft(d.descriptor_type);try{for(h.s();!(f=h.n()).done;){var v=f.value,m={id:l.id,version:d.id,idVersionType:"".concat(l.id,"-").concat(d.id,"-").concat(v),workflowType:Object(ut.a)(v),workflowName:l.name?"".concat(l.name):"".concat(l.id,"-").concat(v),workflowNameVal:l.name?"".concat(l.name,"-").concat(d.id):"".concat(l.id,"-").concat(v,"-").concat(d.id),workflowVersion:d.id,organization:l.organization,workflowUrl:d.url,importButton:""};t.tableContents.push(m)}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}}}catch(t){r.e(t)}finally{r.f()}})).catch((function(e){t.formError=e.message}))}}catch(t){o.e(t)}finally{o.f()}}else Object(ut.g)(this.trsEndpoint).then((function(e){var o,r=ft(e);try{for(r.s();!(o=r.n()).done;){var n,l=o.value,c=ft(l.versions);try{for(c.s();!(n=c.n()).done;){var d=n.value;if(d.descriptor_type){var f,h=ft(d.descriptor_type);try{for(h.s();!(f=h.n()).done;){var v=f.value,m={id:l.id,version:d.id,idVersionType:"".concat(l.id,"-").concat(d.id,"-").concat(v),workflowType:Object(ut.a)(v),workflowName:l.name?"".concat(l.name):"".concat(l.id,"-").concat(v),workflowNameVal:l.name?"".concat(l.name,"-").concat(d.id):"".concat(l.id,"-").concat(v,"-").concat(d.id),workflowVersion:d.id,organization:l.organization,workflowUrl:d.url,importButton:""};t.tableContents.push(m)}}catch(t){h.e(t)}finally{h.f()}}}}catch(t){c.e(t)}finally{c.f()}}}catch(t){r.e(t)}finally{r.f()}})).catch((function(e){t.formError=e.message}))}}}),wt=o(595),yt=Object(w.a)(mt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{eager:"","overlay-opacity":"0.8",value:t.dialogShow,width:"1200"},on:{"click:outside":function(e){return t.$emit("close")},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.$emit("close")}}},[e("v-card",{staticClass:"pb-4"},[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-application-import")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Import Workflow from TRS")}})],1),t._v(" "),e("div",{staticClass:"mx-12 my-2 d-flex align-center"},[e("v-form",{ref:"form",staticClass:"flex-grow-1 mr-4"},[e("v-text-field",{attrs:{hint:"Endpoint of the TRS (e.g., 'https://workflowhub.eu/ga4gh/trs/v2' etc.)",label:"TRS Endpoint","persistent-hint":!t.trsEndpoint.length,placeholder:"Type a TRS endpoint",rules:t.trsEndpointRules},on:{input:t.changeTrsEndpoint},model:{value:t.trsEndpoint,callback:function(e){t.trsEndpoint=e},expression:"trsEndpoint"}})],1),t._v(" "),t._l(t.defaultEndpoints,(function(o,r){return e("v-btn",{key:o.name,class:{"text-capitalize":!0,"mr-2":r!==t.defaultEndpoints.length-1},attrs:{outlined:"",small:""},domProps:{textContent:t._s(o.name)},on:{click:function(e){e.stopPropagation(),t.trsEndpoint=o.endpoint,t.fetchTrs(o.endpoint)}}})}))],2),t._v(" "),e("div",{staticClass:"d-flex mx-12"},[e("v-spacer"),t._v(" "),e("v-select",{staticClass:"mr-6",style:{maxWidth:"160px",minWidth:"160px"},attrs:{clearable:"",dense:"",disabled:!t.tableContents.length,"hide-details":"",items:t.wfTypes,label:"Type","prepend-inner-icon":"mdi-filter-outline","single-line":""},model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}}),t._v(" "),e("v-text-field",{staticClass:"mr-6",style:{maxWidth:"200px",minWidth:"200px"},attrs:{clearable:"",dense:"",disabled:!t.tableContents.length,"hide-details":"",label:"Name","prepend-inner-icon":"mdi-magnify","single-line":""},model:{value:t.filterWorkflowName,callback:function(e){t.filterWorkflowName=e},expression:"filterWorkflowName"}}),t._v(" "),e("v-text-field",{style:{maxWidth:"200px",minWidth:"200px"},attrs:{clearable:"",dense:"",disabled:!t.tableContents.length,"hide-details":"",label:"Organization","prepend-inner-icon":"mdi-magnify","single-line":""},model:{value:t.filterOrganization,callback:function(e){t.filterOrganization=e},expression:"filterOrganization"}})],1),t._v(" "),e("v-data-table",{staticClass:"mx-12 my-2 workflow-table",attrs:{headers:t.tableHeaders,"item-key":"idVersionType",items:t.filteredTableContents,"items-per-page":Number(10),loading:t.loading},scopedSlots:t._u([{key:"item.workflowType",fn:function(t){var o=t.item;return[e("workflow-icon",{attrs:{"wf-type":o.workflowType}})]}},{key:"item.workflowNameVal",fn:function(o){var r=o.item;return[e("span",[t._v("\n            "+t._s(r.workflowName)+"\n            "),e("v-chip",{staticClass:"ml-4",attrs:{color:t.$colors.indigo.lighten2,small:"","text-color":"white"},domProps:{textContent:t._s("".concat(r.workflowVersion))}})],1)]}},{key:"item.workflowUrl",fn:function(o){var r=o.item;return[e("a",{attrs:{href:r.workflowUrl},domProps:{textContent:t._s(r.workflowUrl)}})]}},{key:"item.importButton",fn:function(o){var r=o.item;return[e("v-btn",{staticClass:"text-capitalize",attrs:{color:"primary",outlined:"",small:""},domProps:{textContent:t._s("Import")},on:{click:function(e){return e.stopPropagation(),t.importWorkflow(r)}}})]}}],null,!0)}),t._v(" "),t.formError.length?e("v-alert",{staticClass:"mx-12",attrs:{dense:"",icon:"mdi-fire",outlined:"",text:"",type:"warning"}},[t._v("\n        "+t._s(t.formError)+"\n      ")]):t._e()],1)],1)}),[],!1,null,null,null),gt=yt.exports;k()(yt,{VAlert:_.a,VBtn:x.a,VCard:C.a,VChip:I.a,VDataTable:S.a,VDialog:D.a,VForm:wt.a,VIcon:T.a,VSelect:Y.a,VSpacer:O.a,VTextField:L.a});var kt=Object(n.b)({components:{WorkflowDeleteDialog:tt,WorkflowIcon:J.a,WorkflowRegisterDialog:ct,WorkflowTrsImportDialog:gt},props:{serviceId:{type:String,required:!0}},data:function(){return{workflowHeaders:[{text:"",value:"workflowType",sortable:!1,width:"40px"},{text:"Name",value:"workflowName",sortable:!0},{text:"Added / Updated Date",value:"date",sortable:!0},{text:"",value:"delete",sortable:!1,align:"center",width:"64px"}],selectedWorkflows:[],registerDialogShow:!1,importDialogShow:!1,deleteDialogShow:!1,filterType:"",filterName:""}},computed:{service:function(){return this.$store.getters["services/service"](this.serviceId)},workflowTableItems:function(){return this.$store.getters["workflows/tableItems"](this.service.workflowIds)},filteredItems:function(){var t=this;return this.workflowTableItems.filter((function(e){return(!t.filterType||e.workflowType===t.filterType)&&!(t.filterName&&!e.workflowName.includes(t.filterName))}))},registeredOnlyMode:function(){return this.$store.getters["services/registeredOnlyMode"](this.serviceId)},workflowTypes:function(){return Array.from(new Set(this.workflowTableItems.map((function(t){return t.workflowType}))))}}}),bt=(o(596),Object(w.a)(kt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-card",{attrs:{"max-width":"1200"}},[e("div",{staticClass:"d-flex align-center mx-6 pt-4"},[e("v-icon",{attrs:{color:"black",left:""},domProps:{textContent:t._s("mdi-graph-outline")}}),t._v(" "),e("div",{staticClass:"card-header",domProps:{textContent:t._s("Workflows")}}),t._v(" "),e("v-spacer"),t._v(" "),t.workflowTableItems.length?e("v-select",{staticClass:"mt-2 mr-6",style:{maxWidth:"160px",minWidth:"160px"},attrs:{clearable:"",dense:"","hide-details":"",items:t.workflowTypes,label:"Type","prepend-inner-icon":"mdi-filter-outline","single-line":""},model:{value:t.filterType,callback:function(e){t.filterType=e},expression:"filterType"}}):t._e(),t._v(" "),t.workflowTableItems.length?e("v-text-field",{staticClass:"mt-2 mr-6",style:{maxWidth:"200px",minWidth:"200px"},attrs:{clearable:"",dense:"","hide-details":"",label:"Name","prepend-inner-icon":"mdi-magnify","single-line":""},model:{value:t.filterName,callback:function(e){t.filterName=e},expression:"filterName"}}):t._e()],1),t._v(" "),t.workflowTableItems.length?t._e():e("div",{staticClass:"mx-12 my-2"},[e("span",{style:{color:t.$vuetify.theme.themes.light.error,textDecorationLine:"underline",fontSize:"1rem"},domProps:{textContent:t._s("Add workflow to start composing a run.")}})]),t._v(" "),t.workflowTableItems.length?e("v-data-table",{staticClass:"mx-12 my-2 workflow-table",attrs:{headers:t.workflowHeaders,"item-key":"workflowId",items:t.filteredItems,"items-per-page":Number(10)},scopedSlots:t._u([{key:"item.workflowType",fn:function(t){var o=t.item;return[e("workflow-icon",{attrs:{"wf-type":o.workflowType}})]}},{key:"item.workflowName",fn:function(o){var r=o.item;return[e("div",{staticClass:"d-flex"},[e("nuxt-link",{style:{textDecoration:"none"},attrs:{to:{path:"/workflows",query:{workflowId:r.workflowId}}},domProps:{textContent:t._s(r.workflowName)}}),t._v(" "),e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[r.preRegistered?e("v-icon",t._g({staticClass:"ml-2",attrs:{color:t.$colors.indigo.darken1,small:""},domProps:{textContent:t._s("mdi-account-check-outline")}},n)):t._e()]}}],null,!0)},[t._v(" "),e("span",{domProps:{textContent:t._s("Pre-registered workflow")}})])],1)]}},{key:"item.delete",fn:function(o){var r=o.item;return[e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var n=o.on;return[e("div",t._g({},r.preRegistered&&n),[e("v-icon",{attrs:{color:t.$colors.grey.darken2,disabled:r.preRegistered},domProps:{textContent:t._s("mdi-trash-can-outline")},on:{click:function(e){e.stopPropagation(),t.selectedWorkflows=[r],t.deleteDialogShow=!0}}})],1)]}}],null,!0)},[t._v(" "),e("span",{domProps:{textContent:t._s("This workflow is pre-registered and cannot be removed.")}})])]}}],null,!0)}):t._e(),t._v(" "),e("div",{staticClass:"d-flex justify-end pb-6 mr-12 mt-2"},[e("v-tooltip",{attrs:{"max-width":"400",top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("v-btn",t._g({attrs:{color:"primary",disabled:t.registeredOnlyMode,outlined:"",width:"140"},on:{click:function(e){e.stopPropagation(),t.registerDialogShow=!0}}},t.registeredOnlyMode&&r),[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-sticker-plus-outline")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Add")}})],1)]}}])},[t._v(" "),e("span",{domProps:{textContent:t._s("This WES endpoint operates in the mode of pre-registering workflows. Would you please ask your administrator to add workflows?")}})]),t._v(" "),e("v-tooltip",{attrs:{"max-width":"400",top:""},scopedSlots:t._u([{key:"activator",fn:function(o){var r=o.on;return[e("v-btn",t._g({staticClass:"ml-4",attrs:{color:"primary",disabled:t.registeredOnlyMode,outlined:"",width:"140"},on:{click:function(e){e.stopPropagation(),t.importDialogShow=!0}}},t.registeredOnlyMode&&r),[e("v-icon",{attrs:{left:""},domProps:{textContent:t._s("mdi-application-import")}}),t._v(" "),e("span",{domProps:{textContent:t._s("Import")}})],1)]}}])},[t._v(" "),e("span",{domProps:{textContent:t._s("This WES endpoint operates in the mode of pre-registering workflows. Would you please ask your administrator to import workflows?")}})])],1),t._v(" "),e("workflow-register-dialog",{attrs:{"dialog-show":t.registerDialogShow,"service-id":t.serviceId},on:{close:function(e){t.registerDialogShow=!1}}}),t._v(" "),e("workflow-delete-dialog",{attrs:{"dialog-show":t.deleteDialogShow,"selected-items":t.selectedWorkflows},on:{close:function(e){t.deleteDialogShow=!1,t.selectedWorkflow=[]}}}),t._v(" "),e("workflow-trs-import-dialog",{attrs:{"dialog-show":t.importDialogShow,"service-id":t.serviceId},on:{close:function(e){t.importDialogShow=!1}}})],1)}),[],!1,null,"0db3a362",null)),_t=bt.exports;k()(bt,{VBtn:x.a,VCard:C.a,VDataTable:S.a,VIcon:T.a,VSelect:Y.a,VSpacer:O.a,VTextField:L.a,VTooltip:N.a});var xt=Object(n.b)({components:{AppBar:l.a,AppFooter:c.a,BreadcrumbsHeader:d.a,InfoCard:R,RunCard:Q,WorkflowCard:_t},middleware:function(t){var e=t.store,o=t.route.query.serviceId||"";Array.isArray(o)&&(o=o[0]||""),window.onNuxtReady(Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch("services/updateService",o);case 2:return t.next=4,e.dispatch("runs/updateAllRunsStateByService",o);case 4:case"end":return t.stop()}}),t)}))))},computed:{existServiceId:function(){return this.$store.getters["services/serviceIds"].includes(this.serviceId)},serviceId:function(){var t=this.$route.query.serviceId||"";return Array.isArray(t)?t[0]||"":t}}}),Ct=o(415),It=o(419),St=o(417),Tt=Object(w.a)(xt,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-app",[e("app-bar"),t._v(" "),e("v-main",{staticClass:"background"},[e("v-container",{attrs:{fluid:""}},[e("breadcrumbs-header"),t._v(" "),t.existServiceId?[e("info-card",{staticClass:"mx-auto",attrs:{"service-id":t.serviceId}}),t._v(" "),e("workflow-card",{staticClass:"mt-8 mx-auto",attrs:{"service-id":t.serviceId}}),t._v(" "),e("run-card",{staticClass:"mt-8 mx-auto mb-4",attrs:{"service-id":t.serviceId}})]:[t._v(t._s("Service id: ".concat(t.serviceId," does not exist.")))]],2)],1),t._v(" "),e("app-footer")],1)}),[],!1,null,null,null);e.default=Tt.exports;k()(Tt,{VApp:Ct.a,VContainer:It.a,VMain:St.a})}}]);